{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/matches/users/{mail}/premium":{"put":{"tags":["user-controller"],"operationId":"setPremium","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}},{"name":"isPremium","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SuccessResult"}}}}}}},"/matches/users/{mail}/preferences":{"put":{"tags":["user-controller"],"operationId":"updatePreferences","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferencesRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/matches/users/{mail}/images/{imageId}/profile":{"put":{"tags":["user-controller"],"operationId":"setProfileImage","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}},{"name":"imageId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SuccessResult"}}}}}}},"/matches/users":{"get":{"tags":["user-controller"],"operationId":"getUserByAge","parameters":[{"name":"beginYear","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"endYear","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"post":{"tags":["user-controller"],"operationId":"createDefaultUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/matches/users/{mail}/like/{likedUserId}":{"post":{"tags":["user-controller"],"operationId":"likeUser","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}},{"name":"likedUserId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SuccessResult"}}}}}}},"/matches/users/{mail}/images":{"get":{"tags":["user-controller"],"operationId":"getUserImages","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserImageResponse"}}}}}}},"post":{"tags":["user-controller"],"operationId":"uploadImage","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserImageResponse"}}}}}}},"/matches/users/{mail}/dislike/{dislikedUserId}":{"post":{"tags":["user-controller"],"operationId":"dislikeUser","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}},{"name":"dislikedUserId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SuccessResult"}}}}}}},"/matches/matches/{matchId}/messages":{"get":{"tags":["user-controller"],"operationId":"getChatHistory","parameters":[{"name":"matchId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessageResponse"}}}}}}},"post":{"tags":["user-controller"],"operationId":"sendChatMessage","parameters":[{"name":"matchId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatMessageResponse"}}}}}}},"/matches/login/users":{"post":{"tags":["user-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginWrapper"}}}}}}},"/matches/users/{mail}":{"get":{"tags":["user-controller"],"operationId":"findByMail","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}},"delete":{"tags":["user-controller"],"operationId":"delete","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SuccessResult"}}}}}}},"/matches/users/{mail}/search":{"get":{"tags":["user-controller"],"operationId":"searchUsers","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}}}},"/matches/users/{mail}/matches":{"get":{"tags":["user-controller"],"operationId":"getMatches","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MatchResponse"}}}}}}}},"/matches/users/{mail}/likers":{"get":{"tags":["user-controller"],"operationId":"getLikers","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}}}},"/matches/users/{mail}/images/{imageId}":{"get":{"tags":["user-controller"],"operationId":"getImage","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}},{"name":"imageId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteImage","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}},{"name":"imageId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SuccessResult"}}}}}}},"/matches/users/{mail}/feed":{"get":{"tags":["user-controller"],"operationId":"getFeed","parameters":[{"name":"mail","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}}}}},"components":{"schemas":{"ApiErrorResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}},"SuccessResult":{"type":"object","properties":{"result":{"type":"boolean"}}},"UserPreferencesRequest":{"type":"object","properties":{"targetGender":{"type":"string"},"minAge":{"type":"integer","format":"int32"},"maxAge":{"type":"integer","format":"int32"}}},"UserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"surname":{"type":"string"},"mail":{"type":"string"},"premium":{"type":"boolean"},"admin":{"type":"boolean"},"sex":{"type":"string"},"username":{"type":"string"},"dateOfBirth":{"type":"string","format":"date-time"},"disability":{"type":"string"},"location":{"type":"string"},"bio":{"type":"string"},"interests":{"type":"string"}}},"UserRequest":{"type":"object","properties":{"name":{"type":"string"},"surname":{"type":"string"},"mail":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"sex":{"type":"string"},"dateOfBirth":{"type":"string","format":"date-time"},"disabilities":{"type":"string"}}},"UserImageResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"fileName":{"type":"string"},"contentType":{"type":"string"},"profileImage":{"type":"boolean"}}},"ChatMessageRequest":{"type":"object","properties":{"senderId":{"type":"integer","format":"int32"},"content":{"type":"string"}}},"ChatMessageResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"matchId":{"type":"integer","format":"int32"},"senderId":{"type":"integer","format":"int32"},"senderUsername":{"type":"string"},"content":{"type":"string"},"timestamp":{"type":"string","format":"date-time"}}},"LoginRequest":{"type":"object","properties":{"mail":{"type":"string"},"password":{"type":"string"}}},"LoginWrapper":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/UserResponse"},"result":{"$ref":"#/components/schemas/SuccessResult"}}},"MatchResponse":{"type":"object","properties":{"matchId":{"type":"integer","format":"int32"},"otherUser":{"$ref":"#/components/schemas/UserResponse"}}}}}}